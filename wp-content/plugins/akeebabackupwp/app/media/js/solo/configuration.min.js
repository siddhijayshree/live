/*
   2014-2017 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license     GNU GPL version 3 or later
*/
if("undefined"==typeof Solo)var Solo={};
"undefined"==typeof Solo.Configuration&&(Solo.Configuration={},Solo.Configuration.translations={},Solo.Configuration.GUI={},Solo.Configuration.engines={},Solo.Configuration.installers={},Solo.Configuration.URLs={},Solo.Configuration.FtpBrowser={params:{}},Solo.Configuration.SftpBrowser={params:{}},Solo.Configuration.FtpTest={},Solo.Configuration.SftpTest={},Solo.Configuration.FtpModal=null,Solo.Configuration.passwordFields={},Solo.Configuration.fsBrowser={params:{dialogId:"folderBrowserDialog",dialogBodyId:"folderBrowserDialogBody"},
modalObject:null});Solo.Configuration.parseConfigData=function(a){Solo.Configuration.engines=a.engines;Solo.Configuration.installers=a.installers;Solo.Configuration.parseGuiData(a.gui)};Solo.Configuration.restoreDefaultPasswords=function(){for(var a in Solo.Configuration.passwordFields)if(Solo.Configuration.passwordFields.hasOwnProperty(a)){var b=Solo.Configuration.passwordFields[a];if(myElement=document.getElementById(a))myElement.value="WORKAROUND FOR NAUGHTY BROWSERS",myElement.value=b}};
Solo.Configuration.onBrowser=function(a,b){Solo.Configuration.onBrowserCallback=function(a){b.value=a;"object"==typeof Solo.Configuration.fsBrowser.modalObject&&Solo.Configuration.fsBrowser.modalObject.close&&Solo.Configuration.fsBrowser.modalObject.close()};var d=Solo.Configuration.URLs.browser+encodeURIComponent(a),f=document.getElementById(Solo.Configuration.fsBrowser.params.dialogBodyId);f.innerHTML="";var c=document.createElement("iframe");c.setAttribute("src",d);c.setAttribute("width","100%");
c.setAttribute("height",400);c.setAttribute("frameborder",0);c.setAttribute("allowtransparency","true");f.appendChild(c);Solo.Configuration.fsBrowser.modalObject=Solo.Modal.open({inherit:"#"+Solo.Configuration.fsBrowser.params.dialogId,width:"80%"})};Solo.Configuration.FtpBrowser.callback=function(a){var b="/".replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1");a="/"+(a+"").replace(new RegExp("^["+b+"]+","g"),"");document.getElementById("var["+Solo.Configuration.FtpBrowser.params.key+"]").value=a};
Solo.Configuration.FtpBrowser.initialise=function(a,b){Solo.Configuration.FtpBrowser.params.host=document.getElementById("var["+b+".host]").value;Solo.Configuration.FtpBrowser.params.port=document.getElementById("var["+b+".port]").value;Solo.Configuration.FtpBrowser.params.username=document.getElementById("var["+b+".user]").value;Solo.Configuration.FtpBrowser.params.password=document.getElementById("var["+b+".pass]").value;Solo.Configuration.FtpBrowser.params.passive=document.getElementById("var["+
b+".passive_mode]").checked;Solo.Configuration.FtpBrowser.params.ssl=document.getElementById("var["+b+".ftps]").checked;Solo.Configuration.FtpBrowser.params.directory=document.getElementById("var["+b+".initial_directory]").value;Solo.Configuration.FtpBrowser.params.key=a;Solo.Configuration.FtpBrowser.open()};
Solo.Configuration.FtpBrowser.open=function(){var a=document.getElementById("ftpdialog");Solo.System.addEventListener(document.getElementById("ftpdialogOkButton"),"click",function(a){Solo.Configuration.FtpBrowser.callback(Solo.Configuration.FtpBrowser.params.directory);"object"==typeof Solo.Configuration.FtpModal&&Solo.Configuration.FtpModal.close&&Solo.Configuration.FtpModal.close()});Solo.System.addEventListener(document.getElementById("ftpdialogCancelButton"),"click",function(a){"object"==typeof Solo.Configuration.FtpModal&&
Solo.Configuration.FtpModal.close&&Solo.Configuration.FtpModal.close()});Solo.Configuration.FtpModal=Solo.System.Modal.open({inherit:a,width:"80%"});document.getElementById("ftpBrowserErrorContainer").style.display="none";document.getElementById("ftpBrowserFolderList").innerHTML="";document.getElementById("ftpBrowserCrumbs").innerHTML="";Solo.System.params.AjaxURL=Solo.Configuration.URLs.ftpBrowser;empty(Solo.Configuration.FtpBrowser.params.directory)&&(Solo.Configuration.FtpBrowser.params.directory=
"");Solo.System.doAjax({host:Solo.Configuration.FtpBrowser.params.host,username:Solo.Configuration.FtpBrowser.params.username,password:Solo.Configuration.FtpBrowser.params.password,passive:Solo.Configuration.FtpBrowser.params.passive?1:0,ssl:Solo.Configuration.FtpBrowser.params.ssl?1:0,directory:Solo.Configuration.FtpBrowser.params.directory},function(a){var b=document.getElementById("ak_crumbs2"),f=document.getElementById("ftpBrowserFolderList");f.style.display="none";b.style.display="none";if(0!=
a.error)document.getElementById("ftpBrowserError").innerHTML=a.error,document.getElementById("ftpBrowserErrorContainer").style.display="block";else{document.getElementById("ftpBrowserErrorContainer").style.display="none";if(!empty(a.breadcrumbs)){b.style.display="block";b.innerHTML="";var c="/";Solo.Configuration.FtpBrowser.addCrumb(Solo.Configuration.translations.COM_AKEEBA_FILEFILTERS_LABEL_UIROOT,"/",b);for(i=0;i<a.breadcrumbs.length;i++){var e=a.breadcrumbs[i],c=c+("/"+e);Solo.Configuration.FtpBrowser.addCrumb(e,
c,b)}}if(!empty(a.list))for(f.style.display="block",Solo.Configuration.FtpBrowser.params.directory||(Solo.Configuration.FtpBrowser.params.directory=a.directory),i=0;i<a.list.length;i++)b=a.list[i],Solo.Configuration.FtpBrowser.createLink(a.directory+"/"+b,b,f)}},function(a){document.getElementById("ftpBrowserError").innerHTML=a;document.getElementById("ftpBrowserErrorContainer").style.display="block";document.getElementById("ftpBrowserFolderList").style.display="none";document.getElementById("ftpBrowserCrumbs").style.display=
"none"},!1)};Solo.Configuration.FtpBrowser.createLink=function(a,b,d,f){"undefined"==typeof f&&(f=Solo.Configuration.FtpBrowser);var c=document.createElement("tr"),e=document.createElement("td");c.appendChild(e);var g=document.createElement("a");g.textContent=b;Solo.System.addEventListener(g,"click",function(){f.params.directory=a;f.open()});e.appendChild(g);d.appendChild(c)};
Solo.Configuration.FtpBrowser.addCrumb=function(a,b,d,f){"undefined"==typeof f&&(f=Solo.Configuration.FtpBrowser);var c=document.createElement("li"),e=document.createElement("a");e.textContent=a;Solo.System.addEventListener(e,"click",function(a){f.params.directory=b;f.open();a.preventDefault?a.preventDefault():a.returnValue=!1});c.appendChild(e);d.appendChild(c)};
Solo.Configuration.SftpBrowser.initialise=function(a,b){Solo.Configuration.SftpBrowser.params.host=document.getElementById("var["+b+".host]").value;Solo.Configuration.SftpBrowser.params.port=document.getElementById("var["+b+".port]").value;Solo.Configuration.SftpBrowser.params.username=document.getElementById("var["+b+".user]").value;Solo.Configuration.SftpBrowser.params.password=document.getElementById("var["+b+".pass]").value;Solo.Configuration.SftpBrowser.params.directory=document.getElementById("var["+
b+".initial_directory]").value;Solo.Configuration.SftpBrowser.params.privKey=document.getElementById("var["+b+".privkey]").value;Solo.Configuration.SftpBrowser.params.pubKey=document.getElementById("var["+b+".pubkey]").value;Solo.Configuration.SftpBrowser.params.key=a;Solo.Configuration.SftpBrowser.open()};
Solo.Configuration.SftpBrowser.open=function(){var a=document.getElementById("sftpdialog");a.style.display="block";Solo.System.addEventListener(document.getElementById("sftpdialogOkButton"),"click",function(a){Solo.Configuration.SftpBrowser.callback(Solo.Configuration.SftpBrowser.params.directory);"object"==typeof Solo.Configuration.FtpModal&&Solo.Configuration.FtpModal.close&&Solo.Configuration.FtpModal.close()});Solo.System.addEventListener(document.getElementById("sftpdialogCancelButton"),"click",
function(a){"object"==typeof Solo.Configuration.FtpModal&&Solo.Configuration.FtpModal.close&&Solo.Configuration.FtpModal.close()});Solo.Configuration.FtpModal=Solo.System.Modal.open({inherit:a,width:"80%"});document.getElementById("sftpBrowserErrorContainer").style.display="none";document.getElementById("sftpBrowserFolderList").innerHTML="";document.getElementById("sftpBrowserCrumbs").innerHTML="";Solo.System.params.AjaxURL=Solo.Configuration.URLs.sftpBrowser;empty(Solo.Configuration.SftpBrowser.params.directory)&&
(Solo.Configuration.SftpBrowser.params.directory="");Solo.System.doAjax({host:Solo.Configuration.SftpBrowser.params.host,port:Solo.Configuration.SftpBrowser.params.port,username:Solo.Configuration.SftpBrowser.params.username,password:Solo.Configuration.SftpBrowser.params.password,directory:Solo.Configuration.SftpBrowser.params.directory,privkey:Solo.Configuration.SftpBrowser.params.privKey,pubkey:Solo.Configuration.SftpBrowser.params.pubKey},function(a){var b=document.getElementById("sftpBrowserFolderList"),
f=document.getElementById("ak_scrumbs");b.style.display="none";f.style.display="none";if(0!=a.error)document.getElementById("sftpBrowserError").innerHTML=a.error,document.getElementById("sftpBrowserErrorContainer").style.display="block";else{document.getElementById("ftpBrowserErrorContainer").style.display="none";if(!empty(a.breadcrumbs)){f.style.display="block";f.innerHTML="";var c="/";Solo.Configuration.FtpBrowser.addCrumb(Solo.Configuration.translations.COM_AKEEBA_FILEFILTERS_LABEL_UIROOT,"/",
f,Solo.Configuration.SftpBrowser);for(i=0;i<a.breadcrumbs.length;i++){var e=a.breadcrumbs[i],c=c+("/"+e);Solo.Configuration.FtpBrowser.addCrumb(e,c,f,Solo.Configuration.SftpBrowser)}}if(!empty(a.list))for(b.style.display="block",Solo.Configuration.SftpBrowser.params.directory||(Solo.Configuration.SftpBrowser.params.directory=a.directory),i=0;i<a.list.length;i++)f=a.list[i],Solo.Configuration.FtpBrowser.createLink(a.directory+"/"+f,f,b,Solo.Configuration.SftpBrowser)}},function(a){document.getElementById("sftpBrowserError").innerHTML=
a;document.getElementById("sftpBrowserErrorContainer").style.display="block";document.getElementById("sftpBrowserFolderList").style.display="none";document.getElementById("sftpBrowserCrumbs").style.display="none"},!1)};Solo.Configuration.SftpBrowser.callback=function(a){var b="/".replace(/([\[\]\(\)\.\?\/\*\{\}\+\$\^\:])/g,"$1");a="/"+(a+"").replace(new RegExp("^["+b+"]+","g"),"");document.getElementById("var["+Solo.Configuration.SftpBrowser.params.key+"]").value=a};
Solo.Configuration.FtpTest.testConnection=function(a,b){var d=document.getElementById("var["+a+"]");Solo.Configuration.FtpTest.buttonKey="var["+a+"]";d.setAttribute("disabled","disabled");d={host:document.getElementById("var["+b+".host]").value,port:document.getElementById("var["+b+".port]").value,user:document.getElementById("var["+b+".user]").value,pass:document.getElementById("var["+b+".pass]").value,initdir:document.getElementById("var["+b+".initial_directory]").value,usessl:document.getElementById("var["+
b+".ftps]").checked,passive:document.getElementById("var["+b+".passive_mode]").checked};Solo.System.params.AjaxURL=Solo.Configuration.URLs.testFtp;console.log(d);console.log(Solo.System.params.AjaxURL);Solo.System.doAjax(d,function(a){document.getElementById(Solo.Configuration.FtpTest.buttonKey).removeAttribute("disabled");var b=document.getElementById("testFtpDialogBodyOk"),e=document.getElementById("testFtpDialogBodyFail"),d=document.getElementById("testFtpDialogLabel");b.style.display="none";e.style.display=
"none";!0===a?(d.textContent=Solo.Configuration.translations.COM_AKEEBA_CONFIG_DIRECTFTP_TEST_OK,b.textContent=Solo.Configuration.translations.COM_AKEEBA_CONFIG_DIRECTFTP_TEST_OK,b.style.display="block",e.style.display="none"):(d.textContent=Solo.Configuration.translations.COM_AKEEBA_CONFIG_DIRECTFTP_TEST_FAIL,e.textContent=a,b.style.display="none",e.style.display="block");Solo.Modal.open({inherit:"#testFtpDialog",width:"80%"})},null,!1,15E3)};
Solo.Configuration.SftpTest.testConnection=function(a,b){var d=document.getElementById("var["+a+"]");Solo.Configuration.SftpTest.buttonKey="var["+a+"]";d.setAttribute("disabled","disabled");d={host:document.getElementById("var["+b+".host]").value,port:document.getElementById("var["+b+".port]").value,user:document.getElementById("var["+b+".user]").value,pass:document.getElementById("var["+b+".pass]").value,initdir:document.getElementById("var["+b+".initial_directory]").value,privkey:document.getElementById("var["+
b+".privkey]").value,pubkey:document.getElementById("var["+b+".pubkey]").value};Solo.System.params.AjaxURL=Solo.Configuration.URLs.testSftp;Solo.System.doAjax(d,function(a){document.getElementById(Solo.Configuration.SftpTest.buttonKey).removeAttribute("disabled");var b=document.getElementById("testFtpDialogBodyOk"),e=document.getElementById("testFtpDialogBodyFail"),d=document.getElementById("testFtpDialogLabel");b.style.display="none";e.style.display="none";!0===a?(d.textContent=Solo.Configuration.translations.COM_AKEEBA_CONFIG_DIRECTSFTP_TEST_OK,
b.textContent=Solo.Configuration.translations.COM_AKEEBA_CONFIG_DIRECTSFTP_TEST_OK,b.style.display="block",e.style.display="none"):(d.textContent=Solo.Configuration.translations.COM_AKEEBA_CONFIG_DIRECTSFTP_TEST_FAIL,e.textContent=a,b.style.display="none",e.style.display="block");Solo.Modal.open({inherit:"#testFtpDialog",width:"80%"})},null,!1,15E3)};
Solo.Configuration.enablePopoverFor=function(a){if("object"==typeof a&&NodeList.prototype.isPrototypeOf(a))for(i=0;i<a.length;i++)Solo.Configuration.enablePopoverFor(a[i]);else Solo.Tooltip.enableFor(a)};
Solo.Configuration.parseGuiData=function(a,b){null==b&&(b=document.getElementById("akeebagui"));b.innerHTML="";var d=0,f;for(f in a)if(a.hasOwnProperty(f)){var c=a[f];d++;if(!empty(c)){var e=document.createElement("div");e.className="well";b.appendChild(e);var g=document.createElement("h4");g.id="auigrp_"+b.id+"_"+d;g.innerHTML=f;e.appendChild(g);for(var h in c)if(c.hasOwnProperty(h)){var g=c[h],k="var["+h+"]",l=document.createElement("div");l.className="akeeba-ui-optionrow form-group";l.id="akconfigrow."+
h;"hidden"!=g.type&&"none"!=g.type&&e.appendChild(l);Solo.Configuration.GUI.renderOptionLabel(k,g,l);var m=document.createElement("div");m.className="col-sm-9";var n="renderOptionType"+(g.type[0].toUpperCase()+g.type.slice(1));if("function"===typeof Solo.Configuration.GUI[n])Solo.Configuration.GUI[n](k,g,m,l,e);else Solo.Configuration.GUI.renderOptionTypeUnknown(k,g,m,l,e)}}}};
Solo.Configuration.GUI.renderOptionLabel=function(a,b,d){if("hidden"!=b.type&&"none"!=b.type){var f=document.createElement("label");f.className="control-label col-sm-3";f.setAttribute("for",a);f.innerHTML=b.title;b.description&&(f.setAttribute("rel","popover"),f.setAttribute("data-original-title",b.title),f.setAttribute("data-content",b.description));b.bold&&(f.style.fontWeight="bold");d.appendChild(f)}};Solo.Configuration.GUI.renderOptionTypeNone=function(a,b,d,f,c){};
Solo.Configuration.GUI.renderOptionTypeHidden=function(a,b,d,f,c){d=document.createElement("input");d.id=a;d.setAttribute("type","hidden");d.setAttribute("name",a);d.setAttribute("size","40");d.value=b["default"];c.appendChild(d)};Solo.Configuration.GUI.renderOptionTypeSeparator=function(a,b,d,f,c){a=document.createElement("div");a.className="akeeba_ui_separator";c.appendChild(a)};
Solo.Configuration.GUI.renderOptionTypeCheckandhide=function(a,b,d,f,c){c=document.createElement("span");d.appendChild(c);f.appendChild(d);d=document.createElement("input");d.setAttribute("type","hidden");d.id=a;d.setAttribute("name",a);d.setAttribute("size","40");d.value=b["default"];c.appendChild(d);a=b.labelempty;""!=b["default"]&&(a=b.labelnotempty);d=document.createElement("span");d.textContent=a;c.appendChild(d);Solo.System.data.set(d,"labelempty",b.labelempty);Solo.System.data.set(d,"labelnotempty",
b.labelnotempty)};Solo.Configuration.GUI.renderOptionTypeInstaller=function(a,b,d,f,c){c=document.createElement("select");c.className="form-control";c.id=a;c.setAttribute("name",a);for(key in Solo.Configuration.installers)if(Solo.Configuration.installers.hasOwnProperty(key)){a=Solo.Configuration.installers[key];var e=document.createElement("option");e.value=key;e.innerHTML=a.name;b["default"]==key&&e.setAttribute("selected",1);c.appendChild(e)}d.appendChild(c);f.appendChild(d)};
Solo.Configuration.GUI.renderOptionTypeEngine=function(a,b,d,f,c){var e=b.subtype;if(null!=Solo.Configuration.engines[e]){var g=a.substr(4,a.length-5),h=document.createElement("div");h.id=g+"_config";h.className="hidden";var k=document.createElement("select");k.id=a;k.className="form-control";k.setAttribute("name",a);a=Solo.Configuration.engines[e];for(var l in a)if(a.hasOwnProperty(l)){c=a[l];var m=document.createElement("option");m.value=l;m.innerHTML=c.information.title;b["default"]==l&&m.setAttribute("selected",
"selected");k.appendChild(m)}Solo.System.addEventListener(k,"change",function(a){a={};var b=[document.getElementById(g+"_config").querySelectorAll("input"),document.getElementById(g+"_config").querySelectorAll("select")],c,d,f;for(i=0;i<b.length;i++)if(c=b[i],c.length)for(j=0;j<c.length;j++)d=c[j],f=d.id,a[f]=d.value,"checkbox"==d.getAttribute("type")?a[f]=d.checked:"select"==d.getAttribute("type")&&(a[f]=d.options[d.selectedIndex].value);b=Solo.Configuration.engines[e][k.value];c={};c[b.information.title]=
b.parameters;Solo.Configuration.parseGuiData(c,h);c=h.querySelector("h4");null!=c&&c.insertAdjacentHTML("afterend",'<p class="alert alert-info">'+b.information.description+"</p>");b=[document.getElementById(g+"_config").querySelectorAll("input"),document.getElementById(g+"_config").querySelectorAll("select")];for(i=0;i<b.length;i++)if(c=b[i],c.length)for(j=0;j<c.length;j++)d=c[j],f=d.id,f=a[f],null!=f&&void 0!=f&&("checkbox"==d.getAttribute("type")?f?d.setAttribute("checked","checked"):d.removeAttribute("checked"):
d.value=f,1==i&&Solo.System.triggerEvent(d,"change"));Solo.Configuration.enablePopoverFor(h.querySelectorAll('[rel="popover"]'))});l=document.createElement("button");l.innerHTML=Solo.Configuration.translations.COM_AKEEBA_CONFIG_UI_CONFIG;l.className="btn btn-sm btn-default";a=document.createElement("span");a.className="glyphicon glyphicon-cog";l.appendChild(a);Solo.System.addEventListener(l,"click",function(a){Solo.System.toggleClass(h,"hidden");a.preventDefault?a.preventDefault():a.returnValue=!1});
a=document.createElement("div");a.className="input-group";c=document.createElement("span");c.className="input-group-btn";c.appendChild(l);a.appendChild(k);a.appendChild(c);d.appendChild(a);d.appendChild(h);f.appendChild(d);null!=Solo.Configuration.engines[e][b["default"]]&&(d=Solo.Configuration.engines[e][b["default"]],f=d.information.title,l={},l[f]=d.parameters,0!=b["protected"]&&(document.createElement("span").textContent=f,k.style.display="none"),Solo.Configuration.parseGuiData(l,h),b=h.querySelector("h4"),
null!=b&&b.insertAdjacentHTML("afterend",'<p class="alert alert-info">'+d.information.description+"</p>"))}};
Solo.Configuration.GUI.renderOptionTypeBrowsedir=function(a,b,d,f,c){var e=document.createElement("input");e.setAttribute("type","text");e.setAttribute("name",a);e.setAttribute("size","30");e.className="form-control";e.id=a;e.value=b["default"];a=document.createElement("button");a.className="btn btn-default";a.innerHTML="&nbsp;";a.setAttribute("title",Solo.Configuration.translations.COM_AKEEBA_CONFIG_UI_BROWSE);b=document.createElement("span");b.className="input-group-btn";c=document.createElement("span");
c.className="glyphicon glyphicon-folder-open";a.appendChild(c);Solo.System.addEventListener(a,"click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;if(null!=Solo.Configuration.onBrowser)Solo.Configuration.onBrowser(e.value,e);return!1});c=document.createElement("span");c.className="input-group";b.appendChild(a);c.appendChild(e);c.appendChild(b);d.appendChild(c);f.appendChild(d)};
Solo.Configuration.GUI.renderOptionTypeButtonedit=function(a,b,d,f,c){var e="hidden"==b.editortype?"hidden":"text";c=document.createElement("input");c.className="form-control";c.setAttribute("type",e);c.setAttribute("name",a);c.setAttribute("size",30);c.value=b["default"];"1"==b.editordisabled&&c.setAttribute("disabled","disabled");a=document.createElement("span");a.className="input-group-btn";e=document.createElement("button");e.innerHTML=Solo.Configuration.translations[b.buttontitle];e.className=
"btn btn-default";a.appendChild(e);Solo.System.addEventListener(e,"click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;a=b.hook;try{eval(a+"()")}catch(h){}});e=document.createElement("span");e.className="input-group";e.appendChild(c);e.appendChild(a);d.appendChild(e);f.appendChild(d)};
Solo.Configuration.GUI.renderOptionTypeEnum=function(a,b,d,f,c){var e=document.createElement("select");e.className="form-control";e.id=a;e.setAttribute("name",a);a=b.enumvalues.split("|");c=b.enumkeys.split("|");for(counter=0;counter<a.length;counter++){var g=a[counter],h=c[counter],k=document.createElement("option");k.value=g;k.innerHTML=h;g==b["default"]&&k.setAttribute("selected","selected");e.appendChild(k)}"undefined"!==typeof b.onchange&&Solo.System.addEventListener(e,"change",function(){eval("var callback_onchange = "+
b.onchange);callback_onchange(e)});d.appendChild(e);f.appendChild(d)};Solo.Configuration.GUI.renderOptionTypeString=function(a,b,d,f,c){c=document.createElement("input");c.className="form-control";c.setAttribute("type","text");c.id=a;c.setAttribute("name",a);c.setAttribute("size",40);c.value=b["default"];d.appendChild(c);f.appendChild(d)};
Solo.Configuration.GUI.renderOptionTypePassword=function(a,b,d,f,c){Solo.Configuration.passwordFields[a]=b["default"];c=document.createElement("input");c.className="form-control";c.setAttribute("type","password");c.id=a;c.setAttribute("name",a);c.setAttribute("size",40);c.value=b["default"];c.setAttribute("autocomplete","off");d.appendChild(c);f.appendChild(d)};
Solo.Configuration.GUI.renderOptionTypeInteger=function(a,b,d,f,c){c=a.substr(4,a.length-5);var e=document.createElement("input");e.id=c;e.setAttribute("name",a);e.setAttribute("type","hidden");e.value=b["default"];var g=document.createElement("input");g.setAttribute("type","text");g.setAttribute("size","10");g.id=c+"_custom";g.style.display="none";g.style.marginLeft="6px";g.className="form-control akeeba-form-control-mini";Solo.System.addEventListener(g,"blur",function(){var a=parseFloat(g.value),
a=a*b.scale;a<b.min?a=b.min:a>b.max&&(a=b.max);e.value=a;g.value=(a/b.scale).toFixed(2)});var h=document.createElement("select");h.id=c+"_dropdown";h.setAttribute("name",c+"_dropdown");h.className="form-control akeeba-form-control-mini";c=b.shortcuts.split("|");var k=b.scale;a=!1;for(counter=0;counter<c.length;counter++){var l=c[counter],m=l/k,n=document.createElement("option");n.value=l;n.innerHTML=m.toFixed(2);l==b["default"]&&(n.setAttribute("selected","selected"),a=!0);h.appendChild(n)}c=document.createElement("option");
c.value=-1;c.innerHTML="Custom...";a||(c.setAttribute("selected","selected"),g.value=(b["default"]/b.scale).toFixed(2),g.style.display="inline-block");h.appendChild(c);Solo.System.addEventListener(h,"change",function(){var a=h.value;-1==a?(g.value=(b["default"]/b.scale).toFixed(2),g.style.display="inline-block",Solo.System.triggerEvent(g,"focus")):(e.value=a,g.style.display="none")});a=b.uom;"string"!=typeof a||empty(a)?(a="",d.appendChild(h),d.appendChild(g)):(c=document.createElement("div"),c.className=
"input-group",k=document.createElement("span"),k.className="input-group-addon",k.textContent=" "+a,c.appendChild(h),c.appendChild(g),c.appendChild(k),d.appendChild(c));d.appendChild(e);f.appendChild(d)};
Solo.Configuration.GUI.renderOptionTypeBool=function(a,b,d,f,c){c=document.createElement("div");c.className="akeeba-ui-checkbox";var e=document.createElement("input");e.setAttribute("name",a);e.setAttribute("type","hidden");e.value=0;c.appendChild(e);e=document.createElement("input");e.id=a;e.setAttribute("name",a);e.setAttribute("type","checkbox");e.setAttribute("value",1);0!=b["default"]&&e.setAttribute("checked","checked");c.appendChild(e);d.appendChild(c);f.appendChild(d)};
Solo.Configuration.GUI.renderOptionTypeButton=function(a,b,d,f,c){c=f.querySelector("label");var e=b.hook;b=c.innerHTML;var g=document.createElement("button");g.id=a;g.innerHTML=b;g.className="btn btn-default";c.innerHTML="&nbsp;";Solo.System.addEventListener(g,"click",function(a){a.preventDefault?a.preventDefault():a.returnValue=!1;try{eval(e+"()")}catch(k){}});d.appendChild(g);f.appendChild(d)};
Solo.Configuration.GUI.renderOptionTypeUnknown=function(a,b,d,f,c){a=a.substr(4,a.length-5);d="akeeba_render_"+b.type;c=window[d];if("function"==typeof c)c(a,b,label,f);else try{eval(d+"(config_key, defdata, label, row_div)")}catch(e){}};Solo.Configuration.onChangeScriptType=function(a){a=a.options[a.selectedIndex].value;a="joomla"===a?"angie":"angie-"+a;for(var b=document.getElementById("var[akeeba.advanced.embedded_installer]"),d=b.children,f=0;f<d.length;f++)if(d[f].value===a){b.value=a;break}};
akeeba_directftp_init_browser=function(){Solo.Configuration.FtpBrowser.initialise("engine.archiver.directftp.initial_directory","engine.archiver.directftp")};akeeba_postprocftp_init_browser=function(){Solo.Configuration.FtpBrowser.initialise("engine.postproc.ftp.initial_directory","engine.postproc.ftp")};akeeba_directsftp_init_browser=function(){Solo.Configuration.SftpBrowser.initialise("engine.archiver.directsftp.initial_directory","engine.archiver.directsftp")};
akeeba_postprocsftp_init_browser=function(){Solo.Configuration.FtpBrowser.initialise("engine.postproc.sftp.initial_directory","engine.postproc.sftp")};directftp_test_connection=function(){Solo.Configuration.FtpTest.testConnection("engine.archiver.directftp.ftp_test","engine.archiver.directftp")};postprocftp_test_connection=function(){Solo.Configuration.FtpTest.testConnection("engine.postproc.ftp.ftp_test","engine.postproc.ftp")};
directftpcurl_test_connection=function(){Solo.Configuration.FtpTest.testConnection("engine.archiver.directftpcurl.ftp_test","engine.archiver.directftpcurl")};postprocftpcurl_test_connection=function(){Solo.Configuration.FtpTest.testConnection("engine.postproc.ftpcurl.ftp_test","engine.postproc.ftpcurl")};directsftp_test_connection=function(){Solo.Configuration.SftpTest.testConnection("engine.archiver.directsftp.sftp_test","engine.archiver.directsftp")};
postprocsftp_test_connection=function(){Solo.Configuration.SftpTest.testConnection("engine.postproc.sftp.sftp_test","engine.postproc.sftp")};directsftpcurl_test_connection=function(){Solo.Configuration.SftpTest.testConnection("engine.archiver.directsftpcurl.sftp_test","engine.archiver.directsftpcurl")};postprocsftpcurl_test_connection=function(){Solo.Configuration.SftpTest.testConnection("engine.postproc.sftpcurl.sftp_test","engine.postproc.sftpcurl")};
akconfig_dropbox_openoauth=function(){var a=Solo.Configuration.URLs.dpeauthopen,a=-1==a.indexOf("?")?a+"?":a+"&";window.open(a+"engine=dropbox","akeeba_dropbox_window","width=1010,height=500")};
akconfig_dropbox_gettoken=function(){Solo.System.AjaxURL=Solo.Configuration.URLs.dpecustomapi;Solo.System.doAjax({engine:"dropbox",method:"getauth"},function(a){""!=a.error?alert("ERROR: Could not complete authentication; please retry"):(document.getElementById("var[engine.postproc.dropbox.token]").value=a.token.oauth_token,document.getElementById("var[engine.postproc.dropbox.token_secret]").value=a.token.oauth_token_secret,document.getElementById("var[engine.postproc.dropbox.uid]").value=a.token.uid,
alert("Authentication successful!"))},function(a){alert("ERROR: Could not complete authentication; please retry\n"+a)},!1,15E3)};akconfig_dropbox2_openoauth=function(){var a=Solo.Configuration.URLs.dpeauthopen,a=-1==a.indexOf("?")?a+"?":a+"&";window.open(a+"engine=dropbox2","akeeba_dropbox2_window","width=1010,height=500")};
akeeba_dropbox2_oauth_callback=function(a){document.getElementById("var[engine.postproc.dropbox2.access_token]").value=a.access_token;myWindow=window.open("","akeeba_dropbox2_window");myWindow.close()};akconfig_onedrive_openoauth=function(){var a=Solo.Configuration.URLs.dpeauthopen,a=-1==a.indexOf("?")?a+"?":a+"&";window.open(a+"engine=onedrive","akeeba_onedrive_window","width=1010,height=500")};
akeeba_onedrive_oauth_callback=function(a){document.getElementById("var[engine.postproc.onedrive.access_token]").value=a.access_token;document.getElementById("var[engine.postproc.onedrive.refresh_token]").value=a.refresh_token;myWindow=window.open("","akeeba_onedrive_window");myWindow.close()};akconfig_googledrive_openoauth=function(){var a=Solo.Configuration.URLs.dpeauthopen,a=-1==a.indexOf("?")?a+"?":a+"&";window.open(a+"engine=googledrive","akeeba_googledrive_window","width=1010,height=500")};
akeeba_googledrive_oauth_callback=function(a){document.getElementById("var[engine.postproc.googledrive.access_token]").value=a.access_token;document.getElementById("var[engine.postproc.googledrive.refresh_token]").value=a.refresh_token;myWindow=window.open("","akeeba_googledrive_window");myWindow.close()}; //# sourceMappingURL=configuration.min.map
