/*
   2014-2017 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license     GNU GPL version 3 or later
*/
if("undefined"==typeof Solo)var Solo={};"undefined"==typeof Solo.Ajax&&(Solo.Ajax={xhrSuccessStatus:{0:200,1223:204},requestArray:[],processingQueue:!1});
Solo.Ajax.ajax=function(b,a){"undefined"==typeof a&&(a=b,b=a.url);var c="undefined"==typeof a.type?"POST":a.type,c=c.toUpperCase(),e="undefined"==typeof a.data?{}:a.data,g=null,h="undefined"==typeof a.success?null:a.success,f="undefined"==typeof a.error?null:a.error;if("undefined"==typeof a.cache||!a.url){var k=(new Date).getTime()/1E3,l=parseInt(k,10);e._cacheBustingJunk=Math.round(1E3*(k-l))/1E3}"POST"==c||"PUT"==c?g=this.interpolateParameters(e):(b+=-1==b.indexOf("?")?"?":"&",b+=this.interpolateParameters(e));
var d=new XMLHttpRequest;d.open(c,b);"POST"!=c&&"PUT"!=c||d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.onload=function(a){a=Solo.Ajax.xhrSuccessStatus[d.status]||d.status;var b=d.statusText,c="text"!==(d.responseType||"text")||"string"!==typeof d.responseText?d.response:d.responseText;d.getAllResponseHeaders();200===a?null!=h&&Solo.Ajax.triggerCallbacks(h,c,b,d):f&&Solo.Ajax.triggerCallbacks(f,d,"error",null)};d.onerror=function(a){f&&Solo.Ajax.triggerCallbacks(f,d,"error",
null)};window.attachEvent&&!window.addEventListener&&(d.onreadystatechange=function(){if(4===this.readyState){var a=Solo.Ajax.xhrSuccessStatus[this.status]||this.status;if(200<=a&&400>a)d.onload();else d.onerror()}});d.ontimeout=function(){f&&Solo.Ajax.triggerCallbacks(f,d,"timeout",null)};d.onabort=function(){f&&Solo.Ajax.triggerCallbacks(f,d,"abort",null)};c="undefined"==typeof a.timeout?6E5:a.timeout;0<c&&(d.timeout=c);"undefined"!=typeof a.beforeSend&&!1===a.beforeSend(d,a)||d.send(g)};
Solo.Ajax.enqueue=function(b,a){"undefined"==typeof a&&(a=b,b=a.url);a.url=b;Solo.Ajax.requestArray.push(a);Solo.Ajax.processQueue()};Solo.Ajax.interpolateParameters=function(b){var a="",c;for(c in b)b.hasOwnProperty(c)&&(0<a.length&&(a+="&"),a+=encodeURIComponent(c)+"="+encodeURIComponent(b[c]));return a};
Solo.Ajax.triggerCallbacks=function(){var b=Array.prototype.slice.call(arguments),a=b.shift();if("function"==typeof a)return a.apply(null,b);if(a instanceof Array)for(var c=0;c<a.length;c++)if(!1===a[c].apply(null,b))return!1;return null};Solo.Ajax.processQueueHelper=function(){Solo.Ajax.processingQueue=!1;setTimeout("Solo.Ajax.processQueue();",50)};
Solo.Ajax.processQueue=function(){if(!Solo.Ajax.requestArray.length)Solo.Ajax.processingQueue=!1;else if(!Solo.Ajax.processingQueue){var b=Solo.Ajax.requestArray.shift(),a=b.url,c="undefined"==typeof b.success?[]:b.success,e="undefined"==typeof b.error?[]:b.error;"object"==typeof c&&c instanceof Array||(c=[c]);"object"==typeof e&&e instanceof Array||(e=[e]);c.unshift(Solo.Ajax.processQueueHelper);e.unshift(Solo.Ajax.processQueueHelper);b.success=c;b.error=e;Solo.Ajax.processingQueue=!0;Solo.Ajax.ajax(a,
b)}}; //# sourceMappingURL=ajax.min.map
