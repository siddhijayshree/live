/*
   2014-2017 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license     GNU GPL version 3 or later
*/
if("undefined"==typeof Solo)var Solo={};"undefined"==typeof Solo.Regexfsfilters&&(Solo.Regexfsfilters={translations:{},currentRoot:null});Solo.Regexfsfilters.activeRootChanged=function(){var a=document.getElementById("active_root");Solo.Regexfsfilters.load(a.options[a.selectedIndex].value)};Solo.Regexfsfilters.load=function(a){a={action:JSON.stringify({root:a,verb:"list"})};Solo.System.doAjax(a,function(a){Solo.Regexfsfilters.render(a)},null,!1,15E3)};
Solo.Regexfsfilters.render=function(a){var k=document.getElementById("ak_list_contents");k.innerHTML="";for(var d=0;d<a.length;d++)Solo.Regexfsfilters.addRow(a[d],k);Solo.Regexfsfilters.addNewRow(k)};
Solo.Regexfsfilters.addRow=function(a,k){var d=document.createElement("tr");k.appendChild(d);var b="fa-pencil-square btn-default";""==a.item&&(b="fa-plus-square btn-success");var e=document.createElement("td"),f=document.createElement("span"),n=document.createElement("span");e.appendChild(f);e.appendChild(n);d.appendChild(e);f.className="fa table-icon-container btn btn-sm edit ak-toggle-button "+b;Solo.System.addEventListener(f,"click",function(){var b=["regexfiles","regexdirectories","regexskipdirs",
"regexskipfiles"],h=document.createElement("select");h.setAttribute("name","type");h.className="type-select";for(var c=0;c<b.length;c++){var e=b[c],f=!1;e==a.type&&(f=!0);var l=document.createElement("option");f&&l.setAttribute("selected","selected");l.setAttribute("value",e);l.textContent=Solo.Regexfsfilters.translations["COM_AKEEBA_FILEFILTERS_TYPE_"+String(e).toUpperCase()];h.appendChild(l)}d.querySelector("td.ak-type span").style.display="none";d.querySelector("td.ak-type").appendChild(h);var g=
document.createElement("input");g.setAttribute("type","text");g.setAttribute("name","item");g.setAttribute("size","100");g.value=a.item;d.querySelector("td.ak-item tt").style.display="none";d.querySelector("td.ak-item").appendChild(g);b=d.children[0];b.querySelector("span.edit").style.display="none";b.querySelector("span.delete").style.display="none";c=document.createElement("span");c.className="fa fa-floppy-o table-icon-container btn btn-primary save ak-toggle-button";Solo.System.addEventListener(c,
"click",function(){var b=d.children[0];b.querySelector("span.delete").style.display="none";var e=h.options[h.selectedIndex].value,c=g.value;if(""==trim(c))""==a.item?Solo.System.triggerEvent(b.querySelector("span.cancel"),"click"):Solo.System.triggerEvent(b.querySelector("span.delete"),"click");else if(a.item===c&&a.type===e)Solo.System.triggerEvent(b.querySelector("span.cancel"),"click");else{var b=document.getElementById("active_root"),f={verb:"set",type:e,node:c,root:b.options[b.selectedIndex].value};
Solo.Fsfilters.toggle(f,this,function(b,h){var g=""!=a.item&&""!=a.type&&(a.item!=c||a.type!=e),p=""==a.item||""==a.type,l=d.children[0];if(""==a.item){var m=l.querySelector("span.edit");m.className=m.className.replace("fa-plus-square","fa-pencil-square");m.className=m.className.replace("btn-success","btn-default")}f.type=a.type;f.node=a.item;a.type=e;a.item=c;m="COM_AKEEBA_FILEFILTERS_TYPE_"+String(a.type).toUpperCase();d.querySelector("td.ak-type span").textContent=Solo.Regexfsfilters.translations[m];
d.querySelector("td.ak-item tt").textContent=escapeHTML(a.item);Solo.System.triggerEvent(l.querySelector("span.cancel"),"click");g?(f.verb="remove",Solo.Fsfilters.toggle(f,this,function(a,b){},!1)):(a.item!=c||a.type!=e||p)&&Solo.Regexfsfilters.addNewRow(k)},!1)}});b.appendChild(c);c=document.createElement("span");c.className="fa fa-ban table-icon-container btn btn-sm btn-warning cancel ak-toggle-button";Solo.System.addEventListener(c,"click",function(){var b=d.children[0],c=b.querySelector("span.save");
c.parentNode.removeChild(c);c=b.querySelector("span.cancel");c.parentNode.removeChild(c);b.querySelector("span.edit").style.display="inline-block";""!=a.item&&(b.querySelector("span.delete").style.display="inline-block");h.parentNode.removeChild(h);d.querySelector("td.ak-type span").style.display="inline-block";g.parentNode.removeChild(g);d.querySelector("td.ak-item tt").style.display="inline"});b.appendChild(c)});n.className="fa fa-trash-o table-icon-container btn btn-sm btn-danger delete ak-toggle-button";
Solo.System.addEventListener(n,"click",function(){var b=document.getElementById("active_root");Solo.Fsfilters.toggle({verb:"remove",type:a.type,node:a.item,root:b.options[b.selectedIndex].value},this,function(b,c){d.parentNode.removeChild(d);""==a.item&&Solo.Regexfsfilters.addNewRow(k)},!1)});""==a.item&&(e.querySelector("span.delete").style.display="none");b="COM_AKEEBA_FILEFILTERS_TYPE_REGEX"+String(a.type).toUpperCase().substr(5);b=Solo.Regexfsfilters.translations[b];""==a.type&&(b="");e=document.createElement("td");
e.className="ak-type";e.innerHTML="<span>"+b+"</span>";d.appendChild(e);b=document.createElement("td");b.className="ak-item";b.innerHTML="<tt>"+(null==a.item?"":escapeHTML(a.item))+"</tt>";d.appendChild(b)};Solo.Regexfsfilters.addNewRow=function(a){Solo.Regexfsfilters.addRow({type:"",item:""},a)}; //# sourceMappingURL=regexfsfilters.min.map
