/*
   2014-2017 Nicholas K. Dionysopoulos / Akeeba Ltd
 @license     GNU GPL version 3 or later
*/
var AKEEBA_ANALYZE_SUCCESS=1,AKEEBA_ANALYZE_WARNING=0,AKEEBA_ANALYZE_FAILURE=-1;if("undefined"==typeof Solo)var Solo={};"undefined"==typeof Solo.Alice&&(Solo.Alice={log_selector:null,analyze:null,raw_output:null,translations:{},akeebaUrl:""});Solo.Alice.onLogChange=function(){Solo.Alice.analyze.style.display=Solo.Alice.log_selector.value?"block":none;Solo.Alice.download.style.display=Solo.Alice.log_selector.value?"block":none};
Solo.Alice.onDownload=function(b){b.preventDefault();b=Solo.System.data(this,"url","");window.location=b+Solo.Alice.log_selector.value;return!1};
Solo.Alice.onAnalyze=function(){if(1==Solo.System.data.get(Solo.Alice.analyze,"started",!1))return!1;Solo.System.addClass(Solo.Alice.analyze,"btn-inverse");Solo.System.removeClass(Solo.Alice.analyze,"btn-primary");Solo.System.data.set(Solo.Alice.analyze,"started",!0);Solo.Alice.log_selector.setAttribute("disabled","disabled");Solo.Alice.raw_output.style.display="none";document.getElementById("stepper-complete").innerHTML="";(new AkeebaStepper({options:{akeebaUrl:Solo.Alice.akeebaUrl},onBeforeStart:function(b){b.data.log=
Solo.Alice.log_selector.value},onComplete:function(b){var g=[],h=document.createElement("div");h.className="well";var k=document.createElement("div");k.className="row-striped";h.appendChild(k);b=JSON.parse(b.Results);for(var m=Solo.Alice.translations.SOLO_ALICE_SUCCESSS,n=Solo.Alice.translations.SOLO_ALICE_WARNING,p=Solo.Alice.translations.SOLO_ALICE_ERROR,l=0;l<b.length;l++){var d=b[l],e=document.createElement("div");e.className="row-fluid";e.style.width="99%";var a="label-success",c=m;d.result==
AKEEBA_ANALYZE_WARNING?(c=n,a="label-warning"):d.result==AKEEBA_ANALYZE_FAILURE&&(c=p,a="label-danger");var f=document.createElement("div");f.innerHTML=d.check;e.appendChild(f);f=document.createElement("div");f.className="pull-right label "+a;f.innerHTML=c;e.appendChild(f);a=document.createElement("div");a.className="clearfix";e.appendChild(a);d.result!=AKEEBA_ANALYZE_SUCCESS&&(g.push({check:d.raw.check,error:d.raw.error}),a=document.createElement("div"),a.className="help-block",e.appendChild(a),
c=document.createElement("div"),c.innerHTML=d.error,a.appendChild(c),c=document.createElement("div"),a.appendChild(c),a=document.createElement("em"),a.innerHTML=d.solution,c.appendChild(a));k.appendChild(e)}document.getElementById("stepper-complete").appendChild(h);document.getElementById("stepper-progress-pane").style.display="none";document.getElementById("stepper-complete").style.display="block";Solo.System.removeClass(Solo.Alice.analyze,"btn-inverse");Solo.System.addClass(Solo.Alice.analyze,"btn-primary");
Solo.System.data.set(Solo.Alice.analyze,"started",!1);Solo.Alice.log_selector.removeAttribute("disabled");g&&Solo.Ajax.ajax("index.php?view=Alice&task=translate",{data:{keys:JSON.stringify(g)},success:function(a){a=a.match(/###(.*?)###/);if(void 0!==a[1]){a=JSON.parse(a[1]);for(var b="------ BEGIN OF ALICE RAW OUTPUT -----\n",c=0;c<a.length;c++)d=a[c],b+="[b]"+d.check+"[/b]\n"+d.error+"\n\n";b+="------ END OF ALICE RAW OUTPUT -----\n";Solo.Alice.raw_output.querySelector("textarea").innerHTML=b;Solo.Alice.raw_output.style.display=
"block"}}})}})).init();return!1}; //# sourceMappingURL=alice.min.map
